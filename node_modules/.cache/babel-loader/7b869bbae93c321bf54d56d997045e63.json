{"ast":null,"code":"import _regeneratorRuntime from \"/Users/joshkardos/Desktop/EmployeePayRoll/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/joshkardos/Desktop/EmployeePayRoll/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/joshkardos/Desktop/EmployeePayRoll/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/joshkardos/Desktop/EmployeePayRoll/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/joshkardos/Desktop/EmployeePayRoll/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/joshkardos/Desktop/EmployeePayRoll/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/joshkardos/Desktop/EmployeePayRoll/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/joshkardos/Desktop/EmployeePayRoll/src/employees/HistoryPage.jsx\";\nimport React, { Component } from \"react\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Paper from \"@material-ui/core/Paper\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport \"typeface-roboto\";\nimport Table from \"@material-ui/core/Table\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport Button from \"@material-ui/core/Button\";\nimport { Link } from \"react-router-dom\";\n\nvar styles = function styles(theme) {\n  return {\n    root: {\n      width: \"100%\",\n      overflowX: \"auto\"\n    },\n    table: {\n      minWidth: 500\n    },\n    row: {\n      \"&:nth-of-type(odd)\": {\n        backgroundColor: theme.palette.background.default\n      }\n    },\n    goBack: {\n      backgroundColor: \"primary\",\n      height: \"47px\",\n      color: \"#ffffff\",\n      width: \"100%\",\n      minWidth: \"30px\"\n    }\n  };\n};\n\nvar CustomTableCell = withStyles(function (theme) {\n  return {\n    head: {\n      backgroundColor: theme.palette.common.black,\n      color: theme.palette.common.white\n    },\n    body: {\n      fontSize: 14\n    }\n  };\n})(TableCell);\nexport var HistoryPage =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(HistoryPage, _Component);\n\n  function HistoryPage(props) {\n    var _this;\n\n    _classCallCheck(this, HistoryPage);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(HistoryPage).call(this, props));\n    _this.getTable =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      var id, url, response, rows;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              id = {\n                emp_no: _this.props.id\n              };\n              url = new URL(\"http://localhost:3000/api/employeeTable\");\n              url.search = new URLSearchParams(id);\n              _context.next = 5;\n              return fetch(url);\n\n            case 5:\n              response = _context.sent;\n              _context.next = 8;\n              return response.json();\n\n            case 8:\n              rows = _context.sent;\n\n              _this.setState({\n                rows: rows.result\n              });\n\n            case 10:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n    _this.state = {\n      rows: []\n    };\n    return _this;\n  }\n\n  _createClass(HistoryPage, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getTable();\n    }\n  }, {\n    key: \"renderTable\",\n    value: function renderTable() {\n      if (this.state.rows !== []) {\n        console.log(this.state.rows);\n        var classes = this.props.classes;\n        return this.state.rows.map(function (row) {\n          return React.createElement(TableRow, {\n            className: classes.row,\n            key: row.emp_no,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 75\n            },\n            __self: this\n          }, React.createElement(CustomTableCell, {\n            component: \"th\",\n            scope: \"row\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 76\n            },\n            __self: this\n          }, row.salary), React.createElement(CustomTableCell, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 79\n            },\n            __self: this\n          }, row.from_date.substring(0, 10)), React.createElement(CustomTableCell, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 80\n            },\n            __self: this\n          }, row.to_date.substring(0, 10)));\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var classes = this.props.classes;\n      return React.createElement(Grid, {\n        container: true,\n        className: classes.root,\n        spacing: 8,\n        direction: \"column\",\n        justify: \"flex-start\",\n        alignItems: \"center\",\n        xs: 12,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        item: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, React.createElement(Paper, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        container: true,\n        style: {\n          marginTop: \"150px\"\n        },\n        className: classes.historyBox,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        item: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, React.createElement(Table, {\n        className: classes.table,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, React.createElement(TableHead, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, React.createElement(TableRow, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, React.createElement(CustomTableCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, \"Salary\"), React.createElement(CustomTableCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, \"From Date\"), React.createElement(CustomTableCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, \"To Date\"))), React.createElement(TableBody, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, this.renderTable())))), React.createElement(Grid, {\n        item: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, React.createElement(Button, {\n        variant: \"contained\",\n        color: \"primary\",\n        className: classes.goBack,\n        component: Link,\n        to: \"/\" + this.props.id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, \"Go Back to Home\")))));\n    }\n  }]);\n\n  return HistoryPage;\n}(Component);\nexport default withStyles(styles)(HistoryPage);","map":{"version":3,"sources":["/Users/joshkardos/Desktop/EmployeePayRoll/src/employees/HistoryPage.jsx"],"names":["React","Component","Grid","Paper","withStyles","Table","TableCell","TableBody","TableHead","TableRow","Button","Link","styles","theme","root","width","overflowX","table","minWidth","row","backgroundColor","palette","background","default","goBack","height","color","CustomTableCell","head","common","black","white","body","fontSize","HistoryPage","props","getTable","id","emp_no","url","URL","search","URLSearchParams","fetch","response","json","rows","setState","result","state","console","log","classes","map","salary","from_date","substring","to_date","marginTop","historyBox","renderTable"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,IAAP,MAAiB,wBAAjB;AACA,OAAOC,KAAP,MAAkB,yBAAlB;AACA,SAASC,UAAT,QAA2B,0BAA3B;AACA,OAAO,iBAAP;AACA,OAAOC,KAAP,MAAkB,yBAAlB;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,QAAP,MAAqB,4BAArB;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,SAASC,IAAT,QAAqB,kBAArB;;AAEA,IAAMC,MAAM,GAAG,SAATA,MAAS,CAAAC,KAAK;AAAA,SAAK;AACvBC,IAAAA,IAAI,EAAE;AACJC,MAAAA,KAAK,EAAE,MADH;AAEJC,MAAAA,SAAS,EAAE;AAFP,KADiB;AAKvBC,IAAAA,KAAK,EAAE;AACLC,MAAAA,QAAQ,EAAE;AADL,KALgB;AAQvBC,IAAAA,GAAG,EAAE;AACH,4BAAsB;AACpBC,QAAAA,eAAe,EAAEP,KAAK,CAACQ,OAAN,CAAcC,UAAd,CAAyBC;AADtB;AADnB,KARkB;AAavBC,IAAAA,MAAM,EAAE;AACNJ,MAAAA,eAAe,EAAE,SADX;AAENK,MAAAA,MAAM,EAAE,MAFF;AAGNC,MAAAA,KAAK,EAAE,SAHD;AAINX,MAAAA,KAAK,EAAE,MAJD;AAKNG,MAAAA,QAAQ,EAAE;AALJ;AAbe,GAAL;AAAA,CAApB;;AAsBA,IAAMS,eAAe,GAAGvB,UAAU,CAAC,UAAAS,KAAK;AAAA,SAAK;AAC3Ce,IAAAA,IAAI,EAAE;AACJR,MAAAA,eAAe,EAAEP,KAAK,CAACQ,OAAN,CAAcQ,MAAd,CAAqBC,KADlC;AAEJJ,MAAAA,KAAK,EAAEb,KAAK,CAACQ,OAAN,CAAcQ,MAAd,CAAqBE;AAFxB,KADqC;AAK3CC,IAAAA,IAAI,EAAE;AACJC,MAAAA,QAAQ,EAAE;AADN;AALqC,GAAL;AAAA,CAAN,CAAV,CAQpB3B,SARoB,CAAxB;AAUA,WAAa4B,WAAb;AAAA;AAAA;AAAA;;AACE,uBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,qFAAMA,KAAN;AADiB,UAWnBC,QAXmB;AAAA;AAAA;AAAA;AAAA,6BAWR;AAAA;AAAA;AAAA;AAAA;AAAA;AACHC,cAAAA,EADG,GACE;AACTC,gBAAAA,MAAM,EAAE,MAAKH,KAAL,CAAWE;AADV,eADF;AAIHE,cAAAA,GAJG,GAIG,IAAIC,GAAJ,CAAQ,yCAAR,CAJH;AAKTD,cAAAA,GAAG,CAACE,MAAJ,GAAa,IAAIC,eAAJ,CAAoBL,EAApB,CAAb;AALS;AAAA,qBAMcM,KAAK,CAACJ,GAAD,CANnB;;AAAA;AAMHK,cAAAA,QANG;AAAA;AAAA,qBAOUA,QAAQ,CAACC,IAAT,EAPV;;AAAA;AAOHC,cAAAA,IAPG;;AAQT,oBAAKC,QAAL,CAAc;AAAED,gBAAAA,IAAI,EAAEA,IAAI,CAACE;AAAb,eAAd;;AARS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAXQ;AAEjB,UAAKC,KAAL,GAAa;AACXH,MAAAA,IAAI,EAAE;AADK,KAAb;AAFiB;AAKlB;;AANH;AAAA;AAAA,wCAQsB;AAClB,WAAKV,QAAL;AACD;AAVH;AAAA;AAAA,kCAuBgB;AACZ,UAAI,KAAKa,KAAL,CAAWH,IAAX,KAAoB,EAAxB,EAA4B;AAC1BI,QAAAA,OAAO,CAACC,GAAR,CAAY,KAAKF,KAAL,CAAWH,IAAvB;AAD0B,YAElBM,OAFkB,GAEN,KAAKjB,KAFC,CAElBiB,OAFkB;AAG1B,eAAO,KAAKH,KAAL,CAAWH,IAAX,CAAgBO,GAAhB,CAAoB,UAAAlC,GAAG,EAAI;AAChC,iBACE,oBAAC,QAAD;AAAU,YAAA,SAAS,EAAEiC,OAAO,CAACjC,GAA7B;AAAkC,YAAA,GAAG,EAAEA,GAAG,CAACmB,MAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACE,oBAAC,eAAD;AAAiB,YAAA,SAAS,EAAC,IAA3B;AAAgC,YAAA,KAAK,EAAC,KAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACGnB,GAAG,CAACmC,MADP,CADF,EAIE,oBAAC,eAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAAkBnC,GAAG,CAACoC,SAAJ,CAAcC,SAAd,CAAwB,CAAxB,EAA2B,EAA3B,CAAlB,CAJF,EAKE,oBAAC,eAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAAkBrC,GAAG,CAACsC,OAAJ,CAAYD,SAAZ,CAAsB,CAAtB,EAAyB,EAAzB,CAAlB,CALF,CADF;AASD,SAVM,CAAP;AAWD;AACF;AAvCH;AAAA;AAAA,6BAyCW;AAAA,UACCJ,OADD,GACa,KAAKjB,KADlB,CACCiB,OADD;AAEP,aACE,oBAAC,IAAD;AACE,QAAA,SAAS,MADX;AAEE,QAAA,SAAS,EAAEA,OAAO,CAACtC,IAFrB;AAGE,QAAA,OAAO,EAAE,CAHX;AAIE,QAAA,SAAS,EAAC,QAJZ;AAKE,QAAA,OAAO,EAAC,YALV;AAME,QAAA,UAAU,EAAC,QANb;AAOE,QAAA,EAAE,EAAE,EAPN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SASE,oBAAC,IAAD;AAAM,QAAA,IAAI,MAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,IAAD;AACE,QAAA,SAAS,MADX;AAEE,QAAA,KAAK,EAAE;AACL4C,UAAAA,SAAS,EAAE;AADN,SAFT;AAKE,QAAA,SAAS,EAAEN,OAAO,CAACO,UALrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAOE,oBAAC,IAAD;AAAM,QAAA,IAAI,MAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,KAAD;AAAO,QAAA,SAAS,EAAEP,OAAO,CAACnC,KAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,eAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,EAEE,oBAAC,eAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAFF,EAGE,oBAAC,eAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAHF,CADF,CADF,EAQE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAY,KAAK2C,WAAL,EAAZ,CARF,CADF,CAPF,CADF,EAqBE,oBAAC,IAAD;AAAM,QAAA,IAAI,MAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,MAAD;AACE,QAAA,OAAO,EAAC,WADV;AAEE,QAAA,KAAK,EAAC,SAFR;AAGE,QAAA,SAAS,EAAER,OAAO,CAAC5B,MAHrB;AAIE,QAAA,SAAS,EAAEb,IAJb;AAKE,QAAA,EAAE,EAAE,MAAM,KAAKwB,KAAL,CAAWE,EALvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BADF,CArBF,CADF,CATF,CADF;AA+CD;AA1FH;;AAAA;AAAA,EAAiCpC,SAAjC;AA6FA,eAAeG,UAAU,CAACQ,MAAD,CAAV,CAAmBsB,WAAnB,CAAf","sourcesContent":["import React, { Component } from \"react\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Paper from \"@material-ui/core/Paper\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport \"typeface-roboto\";\nimport Table from \"@material-ui/core/Table\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport Button from \"@material-ui/core/Button\";\nimport { Link } from \"react-router-dom\";\n\nconst styles = theme => ({\n  root: {\n    width: \"100%\",\n    overflowX: \"auto\"\n  },\n  table: {\n    minWidth: 500\n  },\n  row: {\n    \"&:nth-of-type(odd)\": {\n      backgroundColor: theme.palette.background.default\n    }\n  },\n  goBack: {\n    backgroundColor: \"primary\",\n    height: \"47px\",\n    color: \"#ffffff\",\n    width: \"100%\",\n    minWidth: \"30px\"\n  }\n});\n\nconst CustomTableCell = withStyles(theme => ({\n  head: {\n    backgroundColor: theme.palette.common.black,\n    color: theme.palette.common.white\n  },\n  body: {\n    fontSize: 14\n  }\n}))(TableCell);\n\nexport class HistoryPage extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      rows: []\n    };\n  }\n\n  componentDidMount() {\n    this.getTable();\n  }\n\n  getTable = async () => {\n    const id = {\n      emp_no: this.props.id\n    };\n    const url = new URL(\"http://localhost:3000/api/employeeTable\");\n    url.search = new URLSearchParams(id);\n    const response = await fetch(url);\n    const rows = await response.json();\n    this.setState({ rows: rows.result });\n  };\n\n  renderTable() {\n    if (this.state.rows !== []) {\n      console.log(this.state.rows);\n      const { classes } = this.props;\n      return this.state.rows.map(row => {\n        return (\n          <TableRow className={classes.row} key={row.emp_no}>\n            <CustomTableCell component=\"th\" scope=\"row\">\n              {row.salary}\n            </CustomTableCell>\n            <CustomTableCell>{row.from_date.substring(0, 10)}</CustomTableCell>\n            <CustomTableCell>{row.to_date.substring(0, 10)}</CustomTableCell>\n          </TableRow>\n        );\n      });\n    }\n  }\n\n  render() {\n    const { classes } = this.props;\n    return (\n      <Grid\n        container\n        className={classes.root}\n        spacing={8}\n        direction=\"column\"\n        justify=\"flex-start\"\n        alignItems=\"center\"\n        xs={12}\n      >\n        <Grid item>\n          <Paper>\n            <Grid\n              container\n              style={{\n                marginTop: \"150px\"\n              }}\n              className={classes.historyBox}\n            >\n              <Grid item>\n                <Table className={classes.table}>\n                  <TableHead>\n                    <TableRow>\n                      <CustomTableCell>Salary</CustomTableCell>\n                      <CustomTableCell>From Date</CustomTableCell>\n                      <CustomTableCell>To Date</CustomTableCell>\n                    </TableRow>\n                  </TableHead>\n                  <TableBody>{this.renderTable()}</TableBody>\n                </Table>\n              </Grid>\n            </Grid>\n            <Grid item>\n              <Button\n                variant=\"contained\"\n                color=\"primary\"\n                className={classes.goBack}\n                component={Link}\n                to={\"/\" + this.props.id}\n              >\n                Go Back to Home\n              </Button>\n            </Grid>\n          </Paper>\n        </Grid>\n      </Grid>\n    );\n  }\n}\n\nexport default withStyles(styles)(HistoryPage);\n"]},"metadata":{},"sourceType":"module"}